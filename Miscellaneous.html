<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="initial-scale=1.0, width=device-width">


<title>Wentao Maâ€˜s portfolio</title>

<link rel="shortcut icon" href="./Images/favicon.ico" title="Favicon">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="./Style/style.css" type="text/css" media="screen">
<link rel="stylesheet" href="./Resources/menu_cornermorph.css" type="text/css" media="screen">
<link rel="stylesheet" href="./Style/main.css">
<link rel="stylesheet" href="./Style/demo.css">

<meta name="keywords" content="Wentao, Ma, portfolio, Game, Application, Design, Computer, Science">
<meta name="description" content="Wentao Ma's portfolio - A boy likes new challenge and fun.">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="website">
<meta property="og:title" content="Home - Wentao Ma's portfolio">
<meta property="og:url" content="https://tonytheshrimp.github.io/MyPortfolio/">
<meta property="og:site_name" content="Wentao Ma">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="1074">
<meta property="og:image:type" content="image/jpeg">

<link rel="shortlink" href="https://tonytheshrimp.github.io/MyPortfolio/">
<link rel="icon" href="./Images/favicon32.png" sizes="32x32">
<link rel="icon" href="./Images/favicon192.png" sizes="192x192">
<link rel="apple-touch-icon" href="./Images/favicon180.png">
<meta name="msapplication-TileImage" content="./Images/favicon192.png">
	
	
</head>
<body>
<button id="fixed-button" onclick="ShowBoxes()" style="display:none;">Back</button>

<div class="container">

<main>

	<section id="Section-Container">
		<div>
			<a href="./index.html"><img class="banner" src="./Images/TopTitle.png" alt="Banner Image" /> </a>
		</div>

		<div id="centered-box04" class="centered-box">
			
			
			<div class="centered-box01-captial01">Music Visualization </div>
			<div class="project-duration"><b>Duration:</b> 3 days&nbsp;&nbsp;<b>Tools:</b> HTML + Javascript </div>
			<div class="centered-box01-content" style="display: flex; justify-content: space-between; align-items: flex-start;">
				<!-- å·¦ä¾§å†…å®¹ï¼šinput å’Œ audio -->
				<div style="display: flex; flex-direction: column; align-items: flex-start;">
					<input type="file" id="audioFile" accept="audio/*">
					<br><br>
					<audio id="audio" controls></audio>
				</div>

				<!-- å³ä¾§å†…å®¹ï¼šcanvas -->
				<canvas id="canvas" style="width: 60%; display: flex; flex-direction: column; padding: 20px; gap: 20px;"></canvas>
			</div>
			
			<hr style="border: 1px solid #B0B0B0; width: 90%; margin: 32px auto;" />
			
			<div class="centered-box01-captial01">Convert music to traditional Chinese instruments by DDSP </div>
			<div class="project-duration"><b>Duration:</b> 2 weeks&nbsp;&nbsp;<b>Tools:</b> Python + Pytorch + DDSP </div>
			<div class="centered-box01-content" style="display: flex; justify-content: space-between; align-items: flex-start;">
				<div style="display: flex;height: auto;">
					<!-- å·¦ä¾§å†…å®¹åŒºåŸŸ -->
					<div style="width: 100%;display: flex; flex-direction: column;padding: 20px;gap: 20px;">
						<!-- ä¸Šéƒ¨æ–‡å­—åŒºåŸŸ -->
						<div class="centered-box01-description">
							DDSP (Differentiable Digital Signal Processing) is a machine learning approach that combines traditional digital signal processing (DSP) techniques with deep learning. It allows audio generation models to be trained end-to-end by using differentiable DSP operations, such as filters and oscillators.
						</div>		
						<!-- ä¸‹éƒ¨å›¾ç‰‡åŒºåŸŸ -->
						<div style="display: flex;">
							<img src="./DDSP01.png" alt="å›¾ç‰‡1" style="width:80%;height:auto;margin:auto;">
						</div>
						<div class="centered-box01-description">
							The following is a simplification of DDSPâ€™s neural network. It illustrates the steps that a piece of audio goes through to be synthesized into what I wished.
						</div>		
						<!-- ä¸‹éƒ¨å›¾ç‰‡åŒºåŸŸ -->
						<div style="display: flex;">
							<img src="./DDSP02.png" alt="å›¾ç‰‡1" style="width:80%;height:auto;margin:auto;">
						</div>
						<div class="centered-box01-description">
							In order to achieve the transformation of a any piece of music into a particular instrument that I intended, I employed the DDSP model on my local computer. The model was trained successfully,
							and worked OK on convert music to tranditional Chinese instruments as Guqin, Pipa, Erhu. <br />I am still looking for high quality sound sources as training data, and working on deploying the function to website. 
						</div>	
					</div>
				</div>
			</div>
			
			
			
			<hr style="border: 1px solid #B0B0B0; width: 90%; margin: 32px auto;" />
			
			<div class="centered-box01-captial01">The five cats companied me these years.</div>
			<div class="project-duration"><b>Duration:</b> 1 week in summer&nbsp;&nbsp;<b>Tools:</b> Unity + OpenCV </div>
			<div class="centered-box01-content" style="display: flex; align-items: center;">
				<div style="display: flex;height: auto;">
					<!-- å·¦ä¾§å†…å®¹åŒºåŸŸ -->
					<div style="width: 60%;display: flex; flex-direction: column;padding: 20px;gap: 20px;">
						<!-- ä¸Šéƒ¨æ–‡å­—åŒºåŸŸ -->
						<div class="centered-box01-description">
							I conducted a research guided by CMU Prof. Pradeep Ravikumar, studying a novel sampling method in machine learning named SimCore to enhance image classification tasks. I later applied this algorithm to develop an app that could identify my cats through facial recognition.
						</div>		
						<!-- ä¸‹éƒ¨å›¾ç‰‡åŒºåŸŸ -->
						<div style="display: flex;">
							<img src="./Images/CatAll.png" alt="å›¾ç‰‡1" style="width:80%;height:auto;margin:auto;">
						</div>
					</div>

					<!-- å³ä¾§ YouTube è§†é¢‘åŒºåŸŸ -->
					<div style="width: 25%;display: flex;justify-content: center;align-items: center;padding: 20px;background-color: #fff;">
						<div class="centered-box01-image-box" style="width:320px;flex:0;margin-left:124px;">
							<video width="260" height="480" controls>
							<source src="./Images/CatRec.mp4" type="video/mp4">
								Your browser does not support the video tag.
							</video>
						</div>
					</div>
				</div>
			</div>
			
			<hr style="border: 1px solid #B0B0B0; width: 90%; margin: 32px auto;" />
			
			<div class="centered-box01-captial01">Websites I made</div>
			<div class="centered-box01-content">
				
				<div class="centered-box01-image-box">
					<a href="https://shlyzj.org.cn/main.php" target="_blank"><img src="./Images/Websites02.png" alt="Image 2" style="width:360px;height:360px;"  /></a>
					<div class="centered-box01-caption">Adopted cats </div>
				</div>
				<div class="centered-box01-image-box">
					<a href="https://tonytheshrimp.github.io/DeliveryRider/" target="_blank"><img src="./Images/Websites03.png" alt="Image 3" style="width:360px;height:360px;"  /></a>
					<div class="centered-box01-caption">Delivery Rider Stories</div>
				</div>
			</div>
			
			<hr style="border: 1px solid #B0B0B0; width: 90%; margin: 32px auto;" />
			
			<div class="centered-box01-captial01">Small projects for Game Design and Development with Unity 2020</div>
			<div class="centered-box01-content">
				<div class="centered-box01-image-box">
					<a href="https://geniusboy.itch.io/3d-fps" target="_blank"><img src="./Images/Unity01.png" alt="Image 1" style="width:360px;height:210px;" /></a>
					<div class="centered-box01-caption">3D Shooter <a href="https://geniusboy.itch.io/3d-fps" target="_blank">Play</a></div>
				</div>
				<div class="centered-box01-image-box">
					<a href="https://geniusboy.itch.io/3d-platformer" target="_blank"><img src="./Images/unity02.png" alt="Image 2" style="width:360px;height:250px;"  /></a>
					<div class="centered-box01-caption">3D Platformer <a href="https://geniusboy.itch.io/3d-platformer" target="_blank">Play</a></div>
				</div>
			</div>
			
			<div class="centered-box01-content">
				<div class="centered-box01-image-box">
					<a href="https://geniusboy.itch.io/2d-platformer" target="_blank"><img src="./Images/Unity03.png" alt="Image 3" style="width:360px;height:210px;"  /></a>
					<div class="centered-box01-caption">2D Platformer <a href="https://geniusboy.itch.io/2d-platformer" target="_blank">Play</a></div>
				</div>
				<div class="centered-box01-image-box">
					<a href="https://geniusboy.itch.io/2dshooter" target="_blank"><img src="./Images/Unity04.png" alt="Image 3" style="width:360px;height:160px;"  /></a>
					<div class="centered-box01-caption">2D Shooter <a href="https://geniusboy.itch.io/2dshooter" target="_blank">Play</a></div>
				</div>
			</div>
			
			
			
		</div>
	</div>
					
				</div></section>
    
            
     
        </main>
    </div>
	
<script>
	
var currentBox = null;

$(document).ready(function() {
	window.scrollTo(0, 0);

    $('#gallery-item01').click(function() {
		HideBoxes(); 
		$('#centered-box01').fadeIn(400); // æ·¡å…¥æ•ˆæžœ
		currentBox = $('#centered-box01');
    });
    $('#gallery-item02').click(function() {
        HideBoxes(); 
		$('#centered-box02').fadeIn(400); // æ·¡å…¥æ•ˆæžœ
		currentBox = $('#centered-box02');
    });
    $('#gallery-item03').click(function() {
        HideBoxes(); 
		$('#centered-box03').fadeIn(400); // æ·¡å…¥æ•ˆæžœ
		currentBox = $('#centered-box03');
    });
    $('#gallery-item04').click(function() {
        HideBoxes(); 
		$('#centered-box04').fadeIn(400); // æ·¡å…¥æ•ˆæžœ
		currentBox = $('#centered-box04');
    });
    $('#gallery-item05').click(function() {
        HideBoxes(); 
		$('#centered-box05').fadeIn(400); // æ·¡å…¥æ•ˆæžœ
		currentBox = $('#centered-box05');
    });
    $('#gallery-item06').click(function() {
        HideBoxes(); 
		$('#centered-box06').fadeIn(400); // æ·¡å…¥æ•ˆæžœ
		currentBox = $('#centered-box06');
    });
});


function HideBoxes($target){
	$('#gallery-container').fadeOut(200); // æ·¡å‡ºæ•ˆæžœ
	$('#fixed-button').fadeIn(400);
		
	$('#Section-Container').height('auto');
	// å»¶æ—¶è°ƒç”¨
	setTimeout(function() {
		$('#Section-Container').height( $('#Section-Container').scrollHeight + 'px');
	}, 500);
}

function ShowBoxes(){
	if(currentBox!==null){
		currentBox.fadeOut(200);
	}
	$('#gallery-container').fadeIn(400); // 1000è¡¨ç¤ºæ·¡å‡ºæ—¶é—´ä¸º1ç§’ï¼ˆ1000æ¯«ç§’ï¼‰
	
	$('#fixed-button').fadeOut(200);
		
	$('#Section-Container').height('auto');
	
	// å»¶æ—¶è°ƒç”¨
	setTimeout(function() {
		$('#Section-Container').height( $('#Section-Container').scrollHeight + 'px');
	}, 500);
}


	const audio = document.getElementById("audio");
	const fileInput = document.getElementById("audioFile");
	const canvas = document.getElementById("canvas");
	const ctx = canvas.getContext("2d");

	canvas.width = window.innerWidth * 0.6;
	canvas.height = 300;

	let audioContext, analyser, source;
	let dataArray, bufferLength;
	let animationFrameId;
	let sourceCreated = false;
	let baseLine = canvas.height * 0.75;
	let waveData = new Array(100).fill(baseLine);
	let riderIndex = 50;
	let jumpVelocity = 0;
	let isJumping = false;
	let inAir = false;

	// ðŸŽ¬ è½½å…¥ç«æŸ´äºº WebP å›¾ç‰‡
	let riderImage = new Image();
	riderImage.src = "rider.png"; // è¿™é‡Œæ¢æˆä½ çš„ WebP å›¾ç‰‡åœ°å€

	fileInput.addEventListener("change", (event) => {
		const file = event.target.files[0];
		if (!file) return;
		const objectURL = URL.createObjectURL(file);
		audio.src = objectURL;
		audio.load();
		console.log("éŸ³é¢‘åŠ è½½æˆåŠŸ", file.name);
		audio.oncanplaythrough = () => {
			audio.play().then(() => {
				console.log("éŸ³é¢‘æ’­æ”¾æˆåŠŸ");
				initAudioProcessing();
			}).catch(error => {
				console.log("éŸ³é¢‘æ’­æ”¾å¤±è´¥", error);
			});
		};
	});

	function initAudioProcessing() {
		if (!audioContext) {
			audioContext = new (window.AudioContext || window.webkitAudioContext)();
		}
		if (!analyser) {
			analyser = audioContext.createAnalyser();
			analyser.fftSize = 256;
			bufferLength = analyser.frequencyBinCount;
			dataArray = new Uint8Array(bufferLength);
		}
		if (!sourceCreated) {
			source = audioContext.createMediaElementSource(audio);
			source.connect(analyser);
			analyser.connect(audioContext.destination);
			sourceCreated = true;
		}
		if (audioContext.state === "suspended") {
			document.addEventListener("click", () => {
				audioContext.resume().then(() => console.log("éŸ³é¢‘ä¸Šä¸‹æ–‡å·²æ¢å¤"));
			}, { once: true });
		}
		if (animationFrameId) {
			cancelAnimationFrame(animationFrameId);
		}
		draw();
	}

	function draw() {
		analyser.getByteFrequencyData(dataArray);
		let avgAmplitude = dataArray.reduce((sum, val) => sum + val, 0) / bufferLength;
		waveData.shift();
		let newWaveHeight = baseLine - avgAmplitude * 1.2;
		waveData.push(newWaveHeight);

		ctx.clearRect(0, 0, canvas.width, canvas.height);
		ctx.beginPath();
		ctx.lineWidth = 6;
		ctx.strokeStyle = "black";
		for (let i = 0; i < waveData.length; i++) {
			let x = i * (canvas.width / waveData.length);
			let y = waveData[i];
			if (i === 0) {
				ctx.moveTo(x, y);
			} else {
				ctx.lineTo(x, y);
			}
		}
		ctx.stroke();

		drawRider(avgAmplitude);
		animationFrameId = requestAnimationFrame(draw);
	}

	function drawRider(avgAmplitude) {
		let riderX = riderIndex * (canvas.width / waveData.length);
		let riderY = waveData[riderIndex];
		let waveDeviation = Math.abs(baseLine - waveData[riderIndex]);

		// ðŸ”¥ è®©å°äººè·³å¾—æ›´é«˜æ›´é¢‘ç¹
		if (waveDeviation > canvas.height * 0.05 && !inAir) {  // **é™ä½Žè§¦å‘é˜ˆå€¼**
			jumpVelocity = -12; // **åŠ å¤§è·³è·ƒåŠ›åº¦**
			inAir = true;
			isJumping = true;
		}

		if (isJumping) {
			riderY += jumpVelocity;
			jumpVelocity += 0.4; // **åŠ å¿«ä¸‹é™é€Ÿåº¦**
			if (riderY >= waveData[riderIndex] && inAir) {
				riderY = waveData[riderIndex];
				isJumping = false;
				inAir = false;
			}
		}

		let imageWidth = 50; // å›¾ç‰‡å®½åº¦
		let imageHeight = 80; // å›¾ç‰‡é«˜åº¦
		ctx.drawImage(riderImage, riderX - imageWidth / 2, riderY - imageHeight, imageWidth, imageHeight);
	}

</script>

</body>
</html>

